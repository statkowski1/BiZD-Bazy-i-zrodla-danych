CREATE TABLE Loty (
    id_lotu NUMBER PRIMARY KEY,
    numer_lotu VARCHAR2(10) NOT NULL,
    skad VARCHAR2(100) NOT NULL,
    dokad VARCHAR2(100) NOT NULL,
    data_odlotu DATE NOT NULL,
    data_przylotu DATE NOT NULL,
    status_lotu VARCHAR2(20) CHECK (status_lotu IN ('Planowany', 'Opóźniony', 'Anulowany', 'W trakcie', 'Zakończony'))
);

CREATE TABLE Pasażerowie (
    id_pasażera NUMBER PRIMARY KEY,
    imie VARCHAR2(50) NOT NULL,
    nazwisko VARCHAR2(50) NOT NULL,
    paszport VARCHAR2(15) UNIQUE,
    narodowość VARCHAR2(50),
    data_urodzenia DATE
);

CREATE TABLE Rezerwacje (
    id_rezerwacji NUMBER PRIMARY KEY,
    id_pasażera NUMBER REFERENCES Pasażerowie(id_pasażera),
    id_lotu NUMBER REFERENCES Loty(id_lotu),
    miejsce VARCHAR2(5),
    klasa VARCHAR2(20) CHECK (klasa IN ('Ekonomiczna', 'Biznes', 'Pierwsza'))
);

CREATE TABLE Pracownicy (
    id_pracownika NUMBER PRIMARY KEY,
    imie VARCHAR2(50) NOT NULL,
    nazwisko VARCHAR2(50) NOT NULL,
    stanowisko VARCHAR2(50),
    pensja NUMBER CHECK (pensja > 0),
    data_zatrudnienia DATE NOT NULL
);

CREATE TABLE Samoloty (
    id_samolotu NUMBER PRIMARY KEY,
    model VARCHAR2(100) NOT NULL,
    producent VARCHAR2(100) NOT NULL,
    liczba_miejsc NUMBER NOT NULL CHECK (liczba_miejsc > 0),
    data_produkcji DATE,
    status VARCHAR2(20) CHECK (status IN ('Dostępny', 'W konserwacji', 'Nieaktywny'))
);

CREATE TABLE ObsługaTechniczna (
    id_obsługi NUMBER PRIMARY KEY,
    id_samolotu NUMBER REFERENCES Samoloty(id_samolotu),
    data_konserwacji DATE NOT NULL,
    opis VARCHAR2(200),
    koszt NUMBER CHECK (koszt >= 0)
);

CREATE TABLE Bramki (
    id_bramki NUMBER PRIMARY KEY,
    numer_bramki VARCHAR2(10) UNIQUE NOT NULL,
    terminal VARCHAR2(10),
    status VARCHAR2(20) CHECK (status IN ('Dostępna', 'Niedostępna'))
);

CREATE TABLE Przydziały (
    id_przydziału NUMBER PRIMARY KEY,
    id_lotu NUMBER REFERENCES Loty(id_lotu),
    id_bramki NUMBER REFERENCES Bramki(id_bramki),
    czas_od DATE NOT NULL,
    czas_do DATE NOT NULL
);

CREATE TABLE Logi (
    id_logu NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    akcja VARCHAR2(50),
    szczegoly VARCHAR2(2000),
    data_operacji DATE DEFAULT SYSDATE
);

CREATE TABLE Podsumowania (
    id_podsumowania NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    typ_podsumowania VARCHAR2(20),
    okres VARCHAR2(10),
    liczba_lotow NUMBER,
    srednia_opoznienie NUMBER,
    data_utworzenia DATE DEFAULT SYSDATE
);